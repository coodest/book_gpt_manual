% common cmmands
\NewDocumentCommand \fig       { D[]{ht} m }{  
    \ifaddfigure        
        \begin{figure}[#1]                     
            \centering          
            {#2}
        \end{figure}                       
    \fi     
}                  
\NewDocumentCommand \widefig   { D[]{ht} m m m }{
    \ifaddfigure
        \begin{figure*}[#1]
            \centering
            {#3}
            \caption{#2}
            {#4}
        \end{figure*}
    \fi
}
\NewDocumentCommand \tab       { D[]{ht} m m }{ 
    \begin{table}[#1]
        \caption{#2}
        \centering
        {#3}
    \end{table}    
}                    
\NewDocumentCommand \widetab   { D[]{ht} m m }{
    \begin{table*}[#1]
        \caption{#2} 
        \centering
        {#2}
    \end{table*}
}
\NewDocumentCommand \alg       { D[]{ht} m m }{
    \SetAlgoCaptionLayout{capleft}
    \setlength{\algomargin}{1.2em}  % left space of algo contents
    \SetAlgoCaptionSeparator{ }
    \begin{algorithm}[{#1}]
        \DontPrintSemicolon
        \SetKwInOut{Input}{\bfseries Input}  % \Input{xxx}
        \SetKwInOut{Output}{\bfseries Output}  % \Output{xxx}
        \caption{{#2}}
        {#3}  % \ForEach{xxx}{ xxx\; \If{xxx}{ xxx\; } }
    \end{algorithm}
}
\NewDocumentCommand \equ       { m }{
    \begin{equation}
        {#1}
    \end{equation}
}
\NewDocumentCommand \lst       { m }{
    \begin{itemize}
        {#1}
    \end{itemize}
}
\NewDocumentCommand \enu       { m }{
    \begin{enumerate}
        {#1}
    \end{enumerate}
}

\NewDocumentCommand \refalg    { m }{Algorithm~\ref{#1}}
\NewDocumentCommand \refequ    { m }{Equation~\ref{#1}}
\NewDocumentCommand \reffig    { m }{Figure~\ref{#1}}
\NewDocumentCommand \reftab    { m }{Table~\ref{#1}}
\NewDocumentCommand \refsec    { m }{第\ref{#1}节}
\NewDocumentCommand \refapp    { m }{Appendix \ref{#1}}
\NewDocumentCommand \refdef    { m }{Definition \ref{#1}}
\NewDocumentCommand \refthm    { m }{Theorem \ref{#1}}
\NewDocumentCommand \refpro    { m }{Proposition \ref{#1}}
\NewDocumentCommand \reflem    { m }{Lemma \ref{#1}}
\NewDocumentCommand \refrem    { m }{Remark \ref{#1}}

\NewDocumentCommand \hlt       { D[]{blue} m }{\sethlcolor{#1} \hl{#2}}


% User-defined commands
\newcommand{\prompt}[1]{
\vspace{10pt}
\begin{promptbox}
s #1
\end{promptbox}
}
\newcommand{\gpt}[1]{
\vspace{10pt}
\begin{gptbox}
s #1
\end{gptbox}
}

\NewDocumentCommand \gptc { D[]{cyan} m }{ \textcolor{#1}{#2} }

% 定义带变量的命令
\NewDocumentCommand \customPrompt { m m }{%
    \begin{tcolorbox}[boxrule = 0pt,arc = 0pt,left = 0pt,right = 0pt,top = 0pt,bottom = 0pt,colback = #1!20]
        \sethlcolor{#1}\hl{#2}
    \end{tcolorbox}%
}
